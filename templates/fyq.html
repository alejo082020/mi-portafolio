{% extends "base.html" %}

{% block title %}Preguntas Frecuentes - Mi Portafolio{% endblock %}

{% block head %}
<style>
  .faq-header {
    text-align: center;
    margin-bottom: 3rem;
  }
  
  .faq-container {
    max-width: 800px;
    margin: 0 auto;
  }
  
  .accordion-item {
    border: none;
    margin-bottom: 1rem;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
  
  .accordion-button {
    font-weight: 600;
    font-size: 1.1rem;
    padding: 1.25rem;
    background-color: #f9fafb;
  }
  
  .accordion-button:not(.collapsed) {
    background-color: #2563eb;
    color: white;
  }
  
  .accordion-button:focus {
    box-shadow: none;
    border-color: transparent;
  }
  
  .accordion-body {
    padding: 1.5rem;
    line-height: 1.7;
    color: #4b5563;
  }
  
  .no-faqs {
    text-align: center;
    padding: 3rem;
    background: #f9fafb;
    border-radius: 10px;
  }
</style>
{% endblock %}

{% block content %}
<div class="faq-header">
  <h1>Preguntas Frecuentes</h1>
  <p class="lead text-muted">Encuentra respuestas a las preguntas más comunes</p>
</div>

<div class="faq-container">
  {% if preguntas %}
    <div class="accordion" id="faqAccordion">
      {% for p in preguntas %}
      <div class="accordion-item">
        <h2 class="accordion-header" id="heading{{ forloop.counter }}">
          <button class="accordion-button collapsed" 
                  type="button" 
                  data-bs-toggle="collapse" 
                  data-bs-target="#collapse{{ forloop.counter }}"
                  aria-expanded="false"
                  aria-controls="collapse{{ forloop.counter }}"
                  onclick="gtag('event', 'faq_click', {'faq_question': '{{ p.titulo|escapejs }}'});">
            {{ p.titulo }}
          </button>
        </h2>
        <div id="collapse{{ forloop.counter }}" 
             class="accordion-collapse collapse" 
             aria-labelledby="heading{{ forloop.counter }}"
             data-bs-parent="#faqAccordion">
          <div class="accordion-body">
            {{ p.respuesta|linebreaks }}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="no-faqs">
      <h3>No hay preguntas frecuentes aún</h3>
      <p class="text-muted">Agrega preguntas desde el panel de administración</p>
    </div>
  {% endif %}
</div>
{% endblock %}
